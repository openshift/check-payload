# RHCOS transport image - ignore OS certification check
# The rhel-coreos tag is used to transport the base OS image that OpenShift nodes run on.
# This image doesn't have typical component metadata and isn't a layered product.
# The RHCOS team uses OpenShift releases as a transport mechanism for this base OS.
# This issue was resolved in OpenShift 4.19+ but affects earlier versions.
[[tag.rhel-coreos.ignore]]
error = "ErrOSNotCertified"
tags = ["rhel-coreos"]

[[payload.ose-network-interface-bond-cni-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = [
  "/bondcni/bond",
  "/bondcni/rhel9/bond",
]

[[payload.ose-network-tools-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = [ "/usr/bin/ovnkube-trace" ]

[[payload.ose-machine-config-operator-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = [ "/usr/bin/machine-config-daemon.rhel9" ]

[[payload.ose-node-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = [ "/opt/cni/bin/rhel9/openshift-sdn" ]

[[payload.multus-cni-container.ignore]]
error = "ErrLibcryptoSoMissing"
dirs = [
  "/usr/src/multus-cni/rhel9/bin",
  "/usr/src/multus-cni/bin"
]

[[payload.ose-ovn-kubernetes-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = [ "/usr/libexec/cni/rhel8/ovn-k8s-cni-overlay" ]

[[payload.ose-egress-router-cni-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = [
  "/usr/src/egress-router-cni/bin/egress-router",
  "/usr/src/egress-router-cni/rhel9/bin/egress-router",
]

[[payload.ose-multus-whereabouts-ipam-cni-container.ignore]]
error = "ErrLibcryptoSoMissing"
dirs = [ "/usr/src/whereabouts/rhel9/bin" ]

[[payload.openshift-enterprise-operator-sdk-container.ignore]]
error = "ErrGoMissingSymbols"
files = [
  "/usr/lib/golang/pkg/tool/linux_amd64/cgo",
  "/usr/lib/golang/pkg/tool/linux_amd64/compile",
  "/usr/lib/golang/pkg/tool/linux_amd64/covdata",
  "/usr/lib/golang/pkg/tool/linux_amd64/cover"
]

[[payload.openshift-enterprise-operator-sdk-container.ignore]]
error = "ErrNotDynLinked"
files = [
  "/usr/lib/golang/pkg/tool/linux_amd64/cgo",
  "/usr/lib/golang/pkg/tool/linux_amd64/compile",
  "/usr/lib/golang/pkg/tool/linux_amd64/covdata",
  "/usr/lib/golang/pkg/tool/linux_amd64/cover"
]

[[payload.openshift-enterprise-operator-sdk-container.ignore]]
error = "ErrLibcryptoMissing"
files = [
  "/usr/lib/golang/pkg/tool/linux_amd64/cgo",
  "/usr/lib/golang/pkg/tool/linux_amd64/compile",
  "/usr/lib/golang/pkg/tool/linux_amd64/covdata",
  "/usr/lib/golang/pkg/tool/linux_amd64/cover"
]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/cpb", "/usr/bin/copy-content"]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrGoMissingSymbols"
files = ["/usr/bin/cpb", "/usr/bin/copy-content"]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/cpb", "/usr/bin/copy-content"]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrGoMissingTag"
files = ["/usr/bin/cpb", "/usr/bin/copy-content"]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrGoNoTags"
files = ["/usr/bin/cpb", "/usr/bin/copy-content"]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrLibcryptoSoMissing"
files = ["/usr/bin/cpb"]

[[payload.operator-lifecycle-manager-container.ignore]]
error = "ErrLibcryptoMissing"
files = ["/usr/bin/cpb"]

[[payload.multicluster-engine-hypershift-operator-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/hcp-no-cgo", "/usr/bin/hypershift-no-cgo"]

[[payload.hco-bundle-registry-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/container-disk"]

[[payload.virt-handler-rhel9-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/container-disk"]

[[payload.virt-launcher-rhel9-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/container-disk"]

[[payload.virt-cdi-importer-rhel9-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/cdi-containerimage-server"]

[[payload.virt-cdi-importer-rhel9-container.ignore]]
error = "ErrGoMissingSymbols"
files = ["/usr/bin/cdi-containerimage-server"]

[[payload.virt-cdi-importer-rhel9-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/cdi-containerimage-server"]

[[payload.virt-cdi-importer-rhel9-container.ignore]]
error = "ErrLibcryptoMissing"
files = ["/usr/bin/cdi-containerimage-server"]

[[payload.kubevirt-tekton-tasks-copy-template-rhel9-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/kubevirt-tekton-tasks.test"]

[[payload.kubevirt-tekton-tasks-copy-template-rhel9-container.ignore]]
error = "ErrGoMissingSymbols"
files = ["/usr/bin/kubevirt-tekton-tasks.test"]

[[payload.kubevirt-tekton-tasks-copy-template-rhel9-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/kubevirt-tekton-tasks.test"]

[[payload.kubevirt-tekton-tasks-copy-template-rhel9-container.ignore]]
error = "ErrLibcryptoMissing"
files = ["/usr/bin/kubevirt-tekton-tasks.test"]

[[payload.kubevirt-ssp-operator-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/ssp-operator.test"]

[[payload.kubevirt-tekton-tasks-create-datavolume-rhel9-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = [
  "/usr/local/bin/disk-uploader",
  "/usr/local/bin/kubevirt-tekton-tasks.test"
]

[[payload.kubevirt-ssp-operator-rhel9-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/ssp-operator.test"]

[[payload.kubevirt-ssp-operator-rhel9-container.ignore]]
error = "ErrGoMissingSymbols"
files = ["/usr/bin/ssp-operator.test"]

[[payload.kubevirt-ssp-operator-rhel9-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/ssp-operator.test"]

[[payload.kubevirt-ssp-operator-rhel9-container.ignore]]
error = "ErrLibcryptoMissing"
files = ["/usr/bin/ssp-operator.test"]

[[payload.kubevirt-tekton-tasks-operator-rhel9-container.ignore]]
error = "ErrGoNotCgoEnabled"
files = ["/usr/bin/tekton-tasks-operator.test"]

[[payload.kubevirt-tekton-tasks-operator-rhel9-container.ignore]]
error = "ErrGoMissingSymbols"
files = ["/usr/bin/tekton-tasks-operator.test"]

[[payload.kubevirt-tekton-tasks-operator-rhel9-container.ignore]]
error = "ErrNotDynLinked"
files = ["/usr/bin/tekton-tasks-operator.test"]

[[payload.kubevirt-tekton-tasks-operator-rhel9-container.ignore]]
error = "ErrLibcryptoMissing"
files = ["/usr/bin/tekton-tasks-operator.test"]